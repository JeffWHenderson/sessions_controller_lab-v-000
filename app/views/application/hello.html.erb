<body class="body--has-sidebar body--has-sidebar--collapsable body--has-splitscreen body--has-sidebar body--has-subheader" id="js--region-body"><header class="site-header flex-grid flex-grid--center-y"><div class="flex-grid__item"><div class="site-header__logo flex-grid flex-grid--center-both"><div class="site-header__nav-item"><a href="/"><svg class="site-header__logo__icon" data-animate="true" height="32px" viewBox="0 0 32 54" width="32px"><polygon class="site-header__logo__icon__shape" fill="none" points="0 26, 16 2, 16 52, 32 26" stroke="url(#logoGradient)" stroke-dasharray="164" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" stroke-width="3"></polygon><defs><linearGradient id="logoGradient" x1="100%" y1="100%"><stop class="site-header__logo__icon__gradient--start" offset="0%" stop-color="#a9a9a9"></stop><stop class="site-header__logo__icon__gradient--stop" offset="100%" stop-color="#a9a9a9"></stop></linearGradient></defs></svg></a></div></div></div><div class="flex-grid__item flex-grid__item--grow-1"><div class="flex-grid flex-grid--center-y"><div id="js--region-track-nav"><div><div class="menu-wrapper site-header__nav-item"><div class="menu-wrapper__toggle"><a href="#" class="site-header__nav-item__heading"><div class="media-block media-block--side-alt media-block--spacing-tightest media-block--vertical-align-top"><div class="media-block__content">Curriculum</div><div class="media-block__media"><svg class="inline-svg--rotatable" width="8" height="8" fill="currentColor" data-state="closed"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/assets/sprite-a79b4259a2adfe698d06d72d1506eac60d8c320d77d68212ff72eaa70278bd07.svg#svg__icon--chevron"></use></svg></div></div></a></div><span></span></div></div></div><div class="site-header__nav-item util--hide-small util--hide-mobile"><a class="site-header__nav-item__heading util--no-text-wrap" href="/tracks/full-stack-web-development-v3/portfolio-projects">Portfolio Projects</a></div><div class="site-header__nav-item util--hide-small util--hide-mobile"><a class="site-header__nav-item__heading util--no-text-wrap" href="/study-groups">Study Groups</a></div><div id="js--blog-menu"><div><div class="menu-wrapper site-header__nav-item util--hide-small util--hide-mobile"><div class="menu-wrapper__toggle"><a href="#" class="site-header__nav-item__heading"><div class="media-block media-block--side-alt media-block--spacing-tightest media-block--vertical-align-top"><div class="media-block__content">Blog</div><div class="media-block__media"><svg width="8" height="8" fill="currentColor" data-state="closed"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/assets/sprite-a79b4259a2adfe698d06d72d1506eac60d8c320d77d68212ff72eaa70278bd07.svg#svg__icon--chevron"></use></svg></div></div></a></div><span></span></div></div></div><div class="site-header__nav-item"><a class="site-header__nav-item__heading" href="http://help.learn.co" target="_blank" rel="nofollow">Help</a></div><div id="js--nav-more-menu"><div><div class="menu-wrapper site-header__nav-item util--hide-medium util--hide-large"><div class="menu-wrapper__toggle"><a href="#" class="site-header__nav-item__heading"><svg width="16" height="4" fill="currentColor"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/assets/sprite-a79b4259a2adfe698d06d72d1506eac60d8c320d77d68212ff72eaa70278bd07.svg#svg__icon--horizontal-dots"></use></svg></a></div><span></span></div></div></div></div></div><div class="flex-grid__item util--hide-mobile util--hide-small util--hide-medium"><div class="flex-grid flex-grid--center-both"><div class="flex-grid__item" title="Search"><a class="site-header__nav-item__heading" href="#"><div id="js--region-search"><div class="site-header__search" data-state="closed"><form class="site-header__search__form js--query-form" action="/search/" data-action="toggle-site-search" data-state="closed"><span class="twitter-typeahead" style="position: relative; display: inline-block;"><input class="site-header__search__field js--query-field site-header__search__field--mask" type="text" readonly="" autocomplete="off" spellcheck="false" tabindex="-1" dir="ltr" style="position: absolute; top: 0px; left: 0px; border-color: transparent; box-shadow: none; opacity: 1;"><input class="site-header__search__field js--query-field" type="text" name="query" placeholder="Search" autocomplete="off" spellcheck="false" dir="auto" style="position: relative; vertical-align: top; background-color: transparent;"><pre aria-hidden="true" style="position: absolute; visibility: hidden; white-space: pre;"></pre><div class="site-header__search__field__menu menu" style="position: absolute; top: 100%; left: 0px; z-index: 100; display: none;"><div class="menu__list menu__list--full-width menu__list--full-width-global-search"></div></div></span><svg class="site-header__search__trigger"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/assets/sprite-a79b4259a2adfe698d06d72d1506eac60d8c320d77d68212ff72eaa70278bd07.svg#svg__icon--search"></use></svg><input class="util--hide" type="submit"></form></div></div></a></div></div></div><div class="flex-grid__item"><div class="flex-grid flex-grid--center-y"><div class="site-header__nav-item util--hide-mobile util--hide-small util--hide-medium" title="Friends"><a class="site-header__nav-item__heading" href="/friends"><svg class="inline-svg--fixed-size-medium"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/assets/sprite-a79b4259a2adfe698d06d72d1506eac60d8c320d77d68212ff72eaa70278bd07.svg#svg__icon--friends"></use></svg></a></div><div class="site-header__nav-item util--hide-mobile" id="js--slack-icon" title="Learn.co Slack"><a class="site-header__nav-item__heading" href="/slack" target="_blank"><svg class="inline-svg--fixed-size-medium"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/assets/sprite-a79b4259a2adfe698d06d72d1506eac60d8c320d77d68212ff72eaa70278bd07.svg#svg__icon--slack"></use></svg></a></div><div class="site-header__dm site-header__nav-item" title="Direct Messages"><a class="site-header__nav-item__heading" href="#"><div id="js--direct-messages-toggle"><div title="Direct Messages"><div class="image-frame image-frame--has-badge"><svg class="image_frame__image inline-svg--fixed-size-medium" fill="currentColor"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/assets/sprite-a79b4259a2adfe698d06d72d1506eac60d8c320d77d68212ff72eaa70278bd07.svg#svg__icon--dm"></use></svg></div></div></div></a><div class="site-header__dm__toggle" id="js--dm-arrow"></div></div><div class="site-header__karma site-header__nav-item util--hide-mobile"><span class="site-header__karma__label">Karma</span> <span class="site-header__karma__points" id="js--karma-points-count">19</span></div></div></div><div class="flex-grid__item"><div class="site-header__user flex-grid flex-grid--center-both"><div id="js--region-user-menu"><div><div class="menu-wrapper site-header__nav-item util--hide-mobile"><div class="menu-wrapper__toggle"><div><div class="image-frame image-frame--border-radius-full"><img class="site-header__user__thumbnail image-frame__image" src="//avatars.githubusercontent.com/u/30845880"></div><div class="site-header__user__menu__toggle flex-grid flex-grid--center-both"><svg width="8" height="8" fill="currentColor" data-state="closed"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/assets/sprite-a79b4259a2adfe698d06d72d1506eac60d8c320d77d68212ff72eaa70278bd07.svg#svg__icon--chevron"></use></svg></div></div></div><span></span></div></div></div></div></div><div class="site-panel-accessory" id="js--region-panel-accessory"><div><div class="module module--flush"><ul class="list list--spacing-large list--separators-faint list--indented-small js--notification-list notification-list"><li><div class="media-block media-block--vertical-align-top util--padding-ll util--padding-rl notification-node hoverable"><div class="media-block__media media-block__media--left"><div class="image-frame image-frame--border-radius-full image-frame--has-badge image-frame--fixed-size-medium util--margin-tm"><img class="image-frame__image" src="//avatars.githubusercontent.com/u/30245227"></div></div><div class="media-block__content"><div class="module"><div class="module__body"><div class="heading heading--level-6 heading--font-size-smaller heading--color-grey-light">nmlstyl asked  just now:</div><a href="/lessons/28476/?question_id=94337"><div class="heading heading--level-4">if i'm associating an Actor model with the Character and Show model - do i need to create a migration to add a character id and show id to Actor?</div></a><div class="heading heading--level-6">in ActiveRecord Associations Lab II </div></div></div></div></div></li></ul></div></div></div></header><section class="site-superhero" data-width="split" id="js--region-superhero"></section><div id="js--region-subheader" style="display: block;"><section id="js--site-subheader" class="site-subheader"><div class="site-subheader__wrapper"><div class="site-subheader__wrapper__inner"><div class="site-subheader__aux"><ul class="horizontal-list horizontal-list--spacing-small horizontal-list--display-inline horizontal-list--vertical-middle"><li title="Open in Github"><a class="button button--icon-only button--color-grey-faint" href="https://github.com/learn-co-students/has_secure_password_readme-v-000" target="_blank"><svg class="button__icon" width="16" height="16"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/assets/sprite-a79b4259a2adfe698d06d72d1506eac60d8c320d77d68212ff72eaa70278bd07.svg#svg__logo--github"></use></svg></a></li><li title="Raise an Issue"><a class="button button--icon-only button--color-grey-faint" href="//github.com/learn-co-curriculum/has_secure_password_readme/issues/new" target="_blank"><svg class="button__icon" width="16" height="16"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/assets/sprite-a79b4259a2adfe698d06d72d1506eac60d8c320d77d68212ff72eaa70278bd07.svg#svg__icon--flag"></use></svg></a></li><li title="View Fullscreen"><a class="button button--icon-only button--color-grey-faint js-fullscreen-toggle" href="#fullscreen"><svg class="button__icon" width="16" height="16"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/assets/sprite-a79b4259a2adfe698d06d72d1506eac60d8c320d77d68212ff72eaa70278bd07.svg#svg__icon--fullscreen"></use></svg></a></li></ul></div><div class="site-subheader__main"><ul class="horizontal-list horizontal-list--display-inline horizontal-list--spacing-small horizontal-list--vertical-middle"><li><h2 class="heading heading--level-2" title="Using has_secure Password"><strong>Using has_secure Password</strong><span class="util--padding-lm"><svg class="special--heading-icon-book" height="12" width="12" fill="#c4c4c4"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/assets/sprite-a79b4259a2adfe698d06d72d1506eac60d8c320d77d68212ff72eaa70278bd07.svg#svg__icon--readme"></use></svg></span></h2></li></ul></div></div></div></section></div><div id="js--region-banner" style="display: none;"></div><section id="js--direct-messages"><div class="site-sidebar--fixed" data-visibility="hidden"><div class="fc--dm-panel"><div class="module--lilypad module--lilypad--background-color-grey-darker module--corners-sharp"><div class="module__head util--text-align-c" style="padding: 10px 14px 8px;"><div class="util--pull-left"></div><div class="util--pull-right"><span class="heading heading--color-grey-light"><a class="link--color-inherit"><svg width="14" height="14" fill="currentColor"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/assets/sprite-a79b4259a2adfe698d06d72d1506eac60d8c320d77d68212ff72eaa70278bd07.svg#svg__icon--x"></use></svg></a></span></div></div></div><div class="module module--spacious"><div class="media-block media-block--spacing-tightest"><div class="media-block__media"><label class="heading heading--color-grey-dark heading--level-5 util--margin-lm">To:</label></div><div class="media-block__media"><input type="text" class="input input--border-none input--padding-none util--padding-ll"></div></div></div><ul class="fc--dm-user-list list list--spacing-none list--separators-grey-faint list--last-child-border" style="width: 100%;"></ul></div><div class="fc--dm-panel"><div class="module--lilypad module--lilypad--background-color-grey-darker module--corners-sharp"><div class="module__head util--text-align-c" style="padding: 10px 14px 8px;"><div class="util--pull-left"></div><div class="util--pull-right"><span class="heading heading--color-grey-light"><a class="link--color-inherit"><svg width="14" height="14" fill="currentColor"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/assets/sprite-a79b4259a2adfe698d06d72d1506eac60d8c320d77d68212ff72eaa70278bd07.svg#svg__icon--x"></use></svg></a></span></div></div></div><ul class="fc--dm-inbox-list list list--spacing-none list--separators-grey-faint list--last-child-border"></ul></div><div class="fc--dm-panel"><div class="module--lilypad module--lilypad--background-color-grey-darker module--corners-sharp"><div class="module__head util--text-align-c" style="padding: 10px 14px 8px;"><div class="util--pull-left"></div><div class="util--pull-right"><span class="heading heading--color-grey-light"><a class="link--color-inherit"><svg width="14" height="14" fill="currentColor"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/assets/sprite-a79b4259a2adfe698d06d72d1506eac60d8c320d77d68212ff72eaa70278bd07.svg#svg__icon--x"></use></svg></a></span></div></div></div><div class="module util--padding-ts util--text-align-c util--pull-center"><ul class="chat-room-activity big-activity"><li></li><li></li><li></li><li></li></ul></div><div class="module__body fc--dm-message-list util--padding-tl" id="fc--message-list"><ul class="list list--spacing-large list--last-child-padding list--first-child-padding"><section class="module"><h2 class="heading heading--level-2 heading--font-size-smaller">Loading...</h2></section></ul></div><div class="fc--dm-controls util--affix-bottom-right"><div class="module--lilypad module--lilypad--background-color-white module--corners-sharp module--lilypad--border-vertical-color-grey-faint"><div class="module__foot"><div class="col col--size-4of5"><textarea id="js--dm-txt-input" class="js--dm-txt-input input input--textarea-clear input--textarea-hide-scroll" type="text" placeholder="Begin typing..."></textarea></div><div class="col col--size-1of5"><button class="dm-chat-new-upload"></button><label class="dm-chat-new-upload-input"><input type="file" name="file-input" id="js--dm-file-input" class="file-input"></label></div></div></div><div class="module--lilypad module--lilypad--background-color-grey-faintest module--corners-sharp util--text-align-r util--padding-rm util--padding-tm util--padding-bm"><span class="heading heading--level-4 heading--weight-lighter heading--font-size-smaller heading--color-grey-light" style="font-size: 9px;">Tip: Use ` for code snippets</span></div></div></div></div></section><section id="js--notifications"></section><section id="js--feature-tour"><div></div></section><section id="js--region-flash"></section><section id="flash"></section><section class="site-main" id="js--region-main" data-state="extended"><div class="site-main__inner"><div id="js--region-body"><div><div class="level level--add-padding-early"><div class="level__inner"><div class="module"><div class="module__body"><div class="util--padding-rl"><h6 class="bubble-bar__label">3 Students Working</h6><ul class="js--students-list bubble-bar__list"><li data-toggle="tooltip" data-title="samnags" title="samnags" data-gravatar="//avatars.githubusercontent.com/u/9704854" data-username="samnags" data-user-full-name="Sam Nagourney" data-user-id="2157" data-user-authenticated="true" class="hovercard hovercard__trigger hovercard__content--bottom-right hovercard__user-avatar"><a class="bubble-bar__link" href="/samnags" target="_blank"><img class="bubble-bar__link__image" alt="samnags" src="//avatars.githubusercontent.com/u/9704854"></a></li><li data-toggle="tooltip" data-title="ivalentine" title="ivalentine" data-gravatar="//avatars.githubusercontent.com/u/5466592" data-username="ivalentine" data-user-full-name="Ian Valentine" data-user-id="528" data-user-authenticated="true" class="hovercard hovercard__trigger hovercard__content--bottom-right hovercard__user-avatar"><a class="bubble-bar__link" href="/ivalentine" target="_blank"><img class="bubble-bar__link__image" alt="ivalentine" src="//avatars.githubusercontent.com/u/5466592"></a></li><li data-toggle="tooltip" data-title="kwebster2" title="kwebster2" data-gravatar="//avatars.githubusercontent.com/u/16696437" data-username="kwebster2" data-user-full-name="Kevin Webster" data-user-id="8242" data-user-authenticated="true" class="hovercard hovercard__trigger hovercard__content--bottom-right hovercard__user-avatar"><a class="bubble-bar__link" href="/kwebster2" target="_blank"><img class="bubble-bar__link__image" alt="kwebster2" src="//avatars.githubusercontent.com/u/16696437"></a></li></ul></div></div></div></div></div><div class="level level--add-padding-early"><div class="level__inner"><div class="module module--margin-bottom-largest"><div class="module__body"><div class="text-block text-block--readme util--padding-ts" data-readme-content-test=""><h2 id="overview">Overview</h2>

<p>It's quite difficult to manage passwords securely. About once a month, there is another big hack in the news, and all the passwords and credit cards from some poor site show up on BitTorrent.</p>

<p>Rails provides us with tools to store passwords relatively securely so that when hackers break into your servers they don't gain access to users' actual passwords.</p>

<h2 id="objectives">Objectives</h2>

<ol>
<li>Explain why it's a bad idea to store passwords in plaintext.</li>
<li>Write code to store and verify hashed, salted passwords.</li>
<li>Use Rails's <code>has_secure_password</code> to store and authenticate user login credentials securely.</li>
</ol>

<h2 id="the-problem-with-passwords">The problem with passwords</h2>

<p>Let's imagine a <code>SessionsController#create</code> method that does very simple authentication. It goes like this:</p>
<pre class="highlight ruby"><code class=" linenums prettyprint plaintext "><ol class="linenums"><li class="L0"><span class="k">def</span> <span class="nf">create</span></li><li class="L1">  <span class="vi">@user</span> <span class="o">=</span> <span class="no">User</span><span class="p">.</span><span class="nf">find_by</span><span class="p">(</span><span class="ss">username: </span><span class="n">params</span><span class="p">[</span><span class="ss">:username</span><span class="p">])</span></li><li class="L2">  <span class="k">return</span> <span class="n">head</span><span class="p">(</span><span class="ss">:forbidden</span><span class="p">)</span> <span class="k">unless</span> <span class="n">params</span><span class="p">[</span><span class="ss">:password</span><span class="p">]</span> <span class="o">==</span> <span class="vi">@user</span><span class="p">.</span><span class="nf">password</span></li><li class="L3">  <span class="n">session</span><span class="p">[</span><span class="ss">:user_id</span><span class="p">]</span> <span class="o">=</span> <span class="vi">@user</span><span class="p">.</span><span class="nf">id</span></li><li class="L4"><span class="k">end</span></li></ol></code></pre>
<p>We load the user row, check to see if the provided password is equal to the password stored in the database, and, if it is, set <code>user_id</code> in the <code>session</code>.</p>

<p>This is tremendously insecure because you then have to store all your users' passwords in the database, unencrypted.</p>

<p>Never do this.</p>

<p>Even if you don't care about the security of your site, people have a strong tendency to reuse passwords. That means that the inevitable security breach of your site will leak passwords which some users also use for Gmail. Your <code>users</code> table probably has an <code>email</code> column. This means that, if I'm a hacker, getting access to your database has given me the Internet equivalent of the house keys and home address for some (probably surprisingly large) percentage of your users.</p>

<h2 id="hashing-passwords">Hashing passwords</h2>

<p>So how do we store passwords if we can't store passwords?</p>

<p>We store their hashes. A <em>hash</em> is a number computed by feeding a string to a <em>hash function</em>. Hash functions have the property that they will always produce the same number given the same input. You could write one yourself. Here's a very simple one:</p>
<pre class="highlight ruby"><code class=" linenums prettyprint plaintext "><ol class="linenums"><li class="L0"><span class="c1"># dumb_hash(input: string) -&gt; number</span></li><li class="L1"><span class="k">def</span> <span class="nf">dumb_hash</span><span class="p">(</span><span class="n">input</span><span class="p">)</span></li><li class="L2">  <span class="n">input</span><span class="p">.</span><span class="nf">bytes</span><span class="p">.</span><span class="nf">reduce</span><span class="p">(:</span><span class="o">+</span><span class="p">)</span></li><li class="L3"><span class="k">end</span></li></ol></code></pre>
<p>This <code>dumb_hash</code> function just finds the sum of the bytes that comprise the string. It is a hash function since it satisfies the criterion that the same string always produces the same result.</p>

<p>We could imagine using this function to avoid storing passwords in the database. Our <code>User</code> model and <code>SessionsController</code> might look like this:</p>
<pre class="highlight ruby"><code class=" linenums prettyprint plaintext "><ol class="linenums"><li class="L0"><span class="c1"># app/models/user.rb</span></li><li class="L1"><span class="k">class</span> <span class="nc">User</span> <span class="o">&lt;</span> <span class="no">ActiveRecord</span><span class="o">::</span><span class="no">Base</span></li><li class="L2">  <span class="k">def</span> <span class="nf">password</span><span class="o">=</span><span class="p">(</span><span class="n">new_password</span><span class="p">)</span></li><li class="L3">    <span class="nb">self</span><span class="p">.</span><span class="nf">password_digest</span> <span class="o">=</span> <span class="n">dumb_hash</span><span class="p">(</span><span class="n">new_password</span><span class="p">)</span></li><li class="L4">  <span class="k">end</span></li><li class="L5">&nbsp;</li><li class="L6">  <span class="k">def</span> <span class="nf">authenticate</span><span class="p">(</span><span class="n">password</span><span class="p">)</span></li><li class="L7">    <span class="k">return</span> <span class="kp">nil</span> <span class="k">unless</span> <span class="n">dumb_hash</span><span class="p">(</span><span class="n">password</span><span class="p">)</span> <span class="o">==</span> <span class="n">password_digest</span></li><li class="L8">    <span class="nb">self</span></li><li class="L9">  <span class="k">end</span></li><li class="L0">&nbsp;</li><li class="L1">  <span class="kp">private</span></li><li class="L2">&nbsp;</li><li class="L3">  <span class="k">def</span> <span class="nf">dumb_hash</span><span class="p">(</span><span class="n">input</span><span class="p">)</span></li><li class="L4">    <span class="n">input</span><span class="p">.</span><span class="nf">bytes</span><span class="p">.</span><span class="nf">reduce</span><span class="p">(:</span><span class="o">+</span><span class="p">)</span></li><li class="L5">  <span class="k">end</span></li><li class="L6"><span class="k">end</span></li><li class="L7">&nbsp;</li><li class="L8"><span class="c1"># app/controllers/sessions_controller.rb</span></li><li class="L9"><span class="k">class</span> <span class="nc">SessionsController</span> <span class="o">&lt;</span> <span class="no">ApplicationController</span></li><li class="L0">  <span class="k">def</span> <span class="nf">create</span></li><li class="L1">    <span class="n">user</span> <span class="o">=</span> <span class="no">User</span><span class="p">.</span><span class="nf">find_by</span><span class="p">(</span><span class="ss">username: </span><span class="n">params</span><span class="p">[</span><span class="ss">:username</span><span class="p">])</span></li><li class="L2">    <span class="n">authenticated</span> <span class="o">=</span> <span class="n">user</span><span class="p">.</span><span class="nf">try</span><span class="p">(</span><span class="ss">:authenticate</span><span class="p">,</span> <span class="n">params</span><span class="p">[</span><span class="ss">:password</span><span class="p">])</span></li><li class="L3">    <span class="k">return</span> <span class="n">head</span><span class="p">(</span><span class="ss">:forbidden</span><span class="p">)</span> <span class="k">unless</span> <span class="n">authenticated</span></li><li class="L4">    <span class="vi">@user</span> <span class="o">=</span> <span class="n">user</span></li><li class="L5">    <span class="n">session</span><span class="p">[</span><span class="ss">:user_id</span><span class="p">]</span> <span class="o">=</span> <span class="vi">@user</span><span class="p">.</span><span class="nf">id</span></li><li class="L6">  <span class="k">end</span></li><li class="L7"><span class="k">end</span></li></ol></code></pre>
<p><strong>Note:</strong> <a href="http://api.rubyonrails.org/classes/Object.html#method-i-try" target="_blank"><code>try</code></a> is an ActiveSupport method. <code>object.try(:some_method)</code> means<br>
<code>if object != nil then object.some_method else nil end</code>.</p>

<p>In this world, we have saved the password hashes in a <code>password_digest</code> column in the database. We are not storing the passwords themselves.</p>

<p>You can set a user's password by saying <code>user.password = *new_password*</code>. Presumably, our <code>UsersController</code> would do this, but we're not worrying about it for the moment.</p>

<p><code>dumb_hash</code> is, as its name suggests, a pretty dumb hash function to use for this purpose. It's a poor choice because similar strings hash to similar values. If my password was 'Joshua', you could log in as me by entering the password 'Jnshub'. Since 'n' is one less than 'o' and 'b' is one more than 'a', the output of <code>dumb_hash</code> would be the same.</p>

<p>This is known as a <em>collision</em>. Collisions are inevitable when you're writing a hash function, since hash functions usually produce either a 32-bit or 64-bit number, and the space of all possible strings is much larger than either <code>2**32</code> or <code>2**64</code>.</p>

<p>Fortunately, smart people who have thought about this a lot have written a lot of different hash functions which are well-suited to different purposes. And nearly all hash functions are designed with the quality that strings which are similar but not the same hash to significantly different values.</p>

<p>Ruby internally uses <a href="https://en.wikipedia.org/wiki/MurmurHash" target="_blank">MurmurHash</a>, which produces better results for this:</p>
<pre class="highlight plaintext"><code class=" linenums prettyprint plaintext "><ol class="linenums"><li class="L0">&gt; 'Joshua'.hash</li><li class="L1"> =&gt; -3766180385262328513</li><li class="L2">&nbsp;</li><li class="L3">&gt; 'Jnshub'.hash</li><li class="L4"> =&gt; 827642026211689321</li></ol></code></pre>
<p>But Murmur still isn't ideal, because while it does not produce collisions so readily, it is still not difficult to produce them if that's what you're trying to do.</p>

<p>Instead, Rails uses BCrypt. BCrypt is designed with these properties in mind:</p>

<ol>
<li>BCrypt hashes similar strings to very different values.</li>
<li>It is a <em>cryptographic hash</em>. That means that, if you have an output in mind, finding a string which produces that output is designed to be "very difficult." "Very difficult" means "even if Google put all their computers on it, they couldn't do it."</li>
<li>BCrypt is designed to be slow — it is intentionally computationally expensive.</li>
</ol>

<p>The last two features make BCrypt a particularly good choice for passwords. (2) means that, even if an attacker gets your database of hashed passwords, it is not easy for them to turn a hash back into its original string. (3) means that, even if an attacker has a dictionary of common passwords to check against, it will still take them a considerable amount of time to check for your password against that list.</p>

<h2 id="salt">Salt</h2>

<p>But what if our attackers have done their homework?</p>

<p>Say I'm a hacker. I know I'm going to break into a bunch of sites and get their password databases. I want to make that worth my while.</p>

<p>Before I do all this breaking and entering, I'm going to find the ten million most common passwords and hash them with BCrypt. I can do around 1,000 hashes per second, so that's about three hours. Maybe I'll do the top five hundred million just to be sure.</p>

<p>It doesn't really matter that this is going to take long time to run — I'm only doing it once. Let's call this mapping of strings to hash outputs a <a href="https://en.wikipedia.org/wiki/Rainbow_table" target="_blank">"rainbow table"</a>.</p>

<p>Now, when I get your database, I just look and see if any of the passwords there are in my rainbow table. If they are, then I know the password.</p>

<p>The solution to this problem is <em>salting</em> our passwords. A salt is a random string prepended to the password before hashing it. It's stored in plain text next to the password, so it's not a secret. But the fact that it's there makes an attacker's life much more difficult: it's very unlikely that I constructed my rainbow table with your particular salt in mind, so I'm back to running the hash algorithm over and over as I guess passwords. And, remember, BCrypt is designed to be expensive to run.</p>

<p>Let's update our <code>User</code> model to use BCrypt:</p>
<pre class="highlight ruby"><code class=" linenums prettyprint plaintext "><ol class="linenums"><li class="L0"><span class="c1"># Gemfile:</span></li><li class="L1"><span class="n">gem</span> <span class="s1">'bcrypt'</span></li><li class="L2">&nbsp;</li><li class="L3"><span class="c1"># app/models/user.rb</span></li><li class="L4"><span class="k">class</span> <span class="nc">User</span> <span class="o">&lt;</span> <span class="no">ActiveRecord</span><span class="o">::</span><span class="no">Base</span></li><li class="L5">  <span class="k">def</span> <span class="nf">password</span><span class="o">=</span><span class="p">(</span><span class="n">new_password</span><span class="p">)</span></li><li class="L6">    <span class="n">salt</span> <span class="o">=</span> <span class="no">BCrypt</span><span class="o">::</span><span class="no">Engine</span><span class="o">::</span><span class="n">generate_salt</span></li><li class="L7">    <span class="n">hashed</span> <span class="o">=</span> <span class="no">BCrypt</span><span class="o">::</span><span class="no">Engine</span><span class="o">::</span><span class="n">hash_secret</span><span class="p">(</span><span class="n">new_password</span><span class="p">,</span> <span class="n">salt</span><span class="p">)</span></li><li class="L8">    <span class="nb">self</span><span class="p">.</span><span class="nf">password_digest</span> <span class="o">=</span> <span class="n">salt</span> <span class="o">+</span> <span class="n">hashed</span></li><li class="L9">  <span class="k">end</span></li><li class="L0">&nbsp;</li><li class="L1">  <span class="c1"># authenticate(password: string) -&gt; User?</span></li><li class="L2">  <span class="k">def</span> <span class="nf">authenticate</span><span class="p">(</span><span class="n">password</span><span class="p">)</span></li><li class="L3">    <span class="c1"># Salts generated by generate_salt are always 29 chars long.</span></li><li class="L4">    <span class="n">salt</span> <span class="o">=</span> <span class="n">password_digest</span><span class="p">[</span><span class="mi">0</span><span class="p">.</span><span class="nf">.</span><span class="mi">28</span><span class="p">]</span></li><li class="L5">    <span class="n">hashed</span> <span class="o">=</span> <span class="no">BCrypt</span><span class="o">::</span><span class="no">Engine</span><span class="o">::</span><span class="n">hash_secret</span><span class="p">(</span><span class="n">password</span><span class="p">,</span> <span class="n">salt</span><span class="p">)</span></li><li class="L6">    <span class="k">return</span> <span class="kp">nil</span> <span class="k">unless</span> <span class="p">(</span><span class="n">salt</span> <span class="o">+</span> <span class="n">hashed</span><span class="p">)</span> <span class="o">==</span> <span class="nb">self</span><span class="p">.</span><span class="nf">password_digest</span></li><li class="L7">  <span class="k">end</span></li><li class="L8"><span class="k">end</span></li></ol></code></pre>
<p>Our <code>users.password_digest</code> column really stores two values: the salt and the actual return value of BCrypt. We just concatenate them together in the column and use our knowledge of the length of salts — <code>generate_salt</code> always produces 29-character strings — to separate them.</p>

<p>After we've loaded the User, we find the salt which we previously stored in their <code>password_digest</code> column. We run the password we were given in <code>params</code> through BCrypt along with the salt we read from the database. If the results match, you're in. If they don't, no dice.</p>

<h2 id="rails-makes-it-easier">Rails makes it easier</h2>

<p>You don't have to deal with all this yourself. Rails provides a method called <code>has_secure_password</code> that you can use on your ActiveRecord models to handle all this. It looks like this:</p>
<pre class="highlight ruby"><code class=" linenums prettyprint plaintext "><ol class="linenums"><li class="L0"><span class="k">class</span> <span class="nc">User</span> <span class="o">&lt;</span> <span class="no">ActiveRecord</span><span class="o">::</span><span class="no">Base</span></li><li class="L1">  <span class="n">has_secure_password</span></li><li class="L2"><span class="k">end</span></li></ol></code></pre>
<p>You'll need to add <code>gem 'bcrypt'</code> to your Gemfile if it isn't already.</p>

<p><a href="http://api.rubyonrails.org/classes/ActiveModel/SecurePassword/ClassMethods.html" target="_blank"><code>has_secure_password</code></a> adds two fields to your model: <code>password</code> and <code>password_confirmation</code>. These fields don't correspond to database columns! Instead, the method expects there to be a <code>password_digest</code> column defined in your migrations.</p>

<p><code>has_secure_password</code> also adds some <code>before_save</code> hooks to your model. These compare <code>password</code> and <code>password_confirmation</code>. If they match (or if <code>password_confirmation</code> is <code>nil</code>), then it updates the <code>password_digest</code> column pretty much exactly like our example code before did.</p>

<p>These fields are designed to make it easy to include a password confirmation box when creating or updating a user. All together, our very secure app might look like this:</p>
<pre class="highlight ruby"><code class=" linenums prettyprint plaintext "><ol class="linenums"><li class="L0"><span class="c1"># app/views/user/new.html.erb</span></li><li class="L1"><span class="o">&lt;</span><span class="sx">%= form_for :user, url: '/users' do |f| %&gt;</span></li><li class="L2"><span class="sx">  Username: &lt;%=</span> <span class="n">f</span><span class="p">.</span><span class="nf">text_field</span> <span class="ss">:username</span> <span class="o">%&gt;</span></li><li class="L3">  <span class="no">Password</span><span class="p">:</span> <span class="o">&lt;</span><span class="sx">%= f.password_field :password %&gt;</span></li><li class="L4"><span class="sx">  Password Confirmation: &lt;%=</span> <span class="n">f</span><span class="p">.</span><span class="nf">password_field</span> <span class="ss">:password_confirmation</span> <span class="o">%&gt;</span></li><li class="L5">  <span class="o">&lt;</span><span class="sx">%= f.submit "Submit" %&gt;</span></li><li class="L6"><span class="sx">&lt;% end %&gt;</span></li><li class="L7"><span class="sx"></span></li><li class="L8"><span class="sx"># app/controllers/users_controller.rb</span></li><li class="L9"><span class="sx">class UsersController &lt; ApplicationController</span></li><li class="L0"><span class="sx">  def create</span></li><li class="L1"><span class="sx">    user =</span> <span class="no">User</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">user_params</span><span class="p">).</span><span class="nf">save</span></li><li class="L2">  <span class="k">end</span></li><li class="L3">&nbsp;</li><li class="L4">  <span class="kp">private</span></li><li class="L5">&nbsp;</li><li class="L6">  <span class="k">def</span> <span class="nf">user_params</span></li><li class="L7">    <span class="n">params</span><span class="p">.</span><span class="nf">require</span><span class="p">(</span><span class="ss">:user</span><span class="p">).</span><span class="nf">permit</span><span class="p">(</span><span class="ss">:username</span><span class="p">,</span> <span class="ss">:password</span><span class="p">,</span> <span class="ss">:password_confirmation</span><span class="p">)</span></li><li class="L8">  <span class="k">end</span></li><li class="L9"><span class="k">end</span></li><li class="L0">&nbsp;</li><li class="L1"><span class="c1"># app/controllers/sessions_controller.rb</span></li><li class="L2"><span class="k">class</span> <span class="nc">SessionsController</span> <span class="o">&lt;</span> <span class="no">ApplicationController</span></li><li class="L3">  <span class="k">def</span> <span class="nf">create</span></li><li class="L4">    <span class="vi">@user</span> <span class="o">=</span> <span class="no">User</span><span class="p">.</span><span class="nf">find_by</span><span class="p">(</span><span class="ss">username: </span><span class="n">params</span><span class="p">[</span><span class="ss">:username</span><span class="p">])</span></li><li class="L5">    <span class="k">return</span> <span class="n">head</span><span class="p">(</span><span class="ss">:forbidden</span><span class="p">)</span> <span class="k">unless</span> <span class="vi">@user</span><span class="p">.</span><span class="nf">authenticate</span><span class="p">(</span><span class="n">params</span><span class="p">[</span><span class="ss">:password</span><span class="p">])</span></li><li class="L6">    <span class="n">session</span><span class="p">[</span><span class="ss">:user_id</span><span class="p">]</span> <span class="o">=</span> <span class="vi">@user</span><span class="p">.</span><span class="nf">id</span></li><li class="L7">  <span class="k">end</span></li><li class="L8"><span class="k">end</span></li><li class="L9">&nbsp;</li><li class="L0"><span class="c1"># app/models/user.rb</span></li><li class="L1"><span class="k">class</span> <span class="nc">User</span> <span class="o">&lt;</span> <span class="no">ActiveRecord</span><span class="o">::</span><span class="no">Base</span></li><li class="L2">  <span class="n">has_secure_password</span></li><li class="L3"><span class="k">end</span></li></ol></code></pre>
<h2 id="video-review">Video Review</h2>

<ul>
<li><a href="https://www.youtube.com/watch?v=gB7lYvfL4J4" target="_blank">Authentication</a></li>
</ul>

<h2 id="resources">Resources</h2>

<ul>
<li><a href="https://en.wikipedia.org/wiki/MurmurHash" target="_blank">Wikipedia — Murmur Hash</a></li>
<li><a href="https://en.wikipedia.org/wiki/Rainbow_table" target="_blank">Wikipedia — Rainbow Table</a></li>
<li><a href="https://www.usenix.org/legacy/event/usenix99/provos/provos.pdf" target="_blank">BCrypt USENIX paper</a></li>
<li><a href="http://api.rubyonrails.org/classes/ActiveModel/SecurePassword/ClassMethods.html" target="_blank">Rails documentation — <code>has_secure_password</code></a></li>
</ul>

<p data-visibility="hidden">View <a href="https://learn.co/lessons/has_secure_password_readme" title="Using has_secure_password" target="_blank">Using <code>has_secure_password</code></a> on Learn.co and start learning to code for free.</p>
</div></div></div></div></div></div></div><footer class="site-main__inner__footer" id="js--region-main-footer"><div class="site-main__inner__footer__inner"><div class="table-grid table-grid--spread-content"><div class="table-grid__cell table-grid__cell--nowrap"><svg class="site-main__inner__footer__icon" width="10" height="12"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/assets/sprite-a79b4259a2adfe698d06d72d1506eac60d8c320d77d68212ff72eaa70278bd07.svg#svg__logo--flatiron"></use></svg> Learn. Love. Code.</div><div class="table-grid__cell table-grid__cell--fill"><a href="/tos" target="_blank">Terms &amp; Conditions</a></div> <div class="table-grid__cell table-grid__cell--nowrap">Made with <svg class="site-main__inner__footer__icon" width="12" height="12" fill="red"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/assets/sprite-a79b4259a2adfe698d06d72d1506eac60d8c320d77d68212ff72eaa70278bd07.svg#svg__icon--heart"></use></svg> by <strong><a href="http://flatironschool.com/?__hstc=112149531.01e4ace114a8d38db66fc22ae3c28bcf.1501079130806.1511917118107.1511920588853.384&amp;__hssc=112149531.1.1511920588853&amp;__hsfp=3896197438" target="_blank">Flatiron School</a></strong> </div> </div></div></footer></div></section><section class="site-widget"><div id="js--friends-widget"><div><div class="module module--flush module--flat module--island module--corners-sharp"><ul class="list list--spacing-large util--padding-tm util--padding-bm"><li><a href="#"><div class="image-frame image-frame--border-radius-small image-frame--fixed-size-medium image-frame--has-badge util--pull-center"><img class="image-frame__image" src="//avatars.githubusercontent.com/u/27769384"><svg class="image-frame__badge image-frame__badge--color-green image-frame__badge--side-alt image-frame__badge--offset-large" width="6" height="6" fill="currentColor"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/assets/sprite-a79b4259a2adfe698d06d72d1506eac60d8c320d77d68212ff72eaa70278bd07.svg#svg__icon--checkmark"></use></svg></div></a></li><li><a href="#" style=""><div class="image-frame image-frame--border-radius-small image-frame--fixed-size-medium image-frame--has-badge util--pull-center"><img class="image-frame__image" src="//avatars.githubusercontent.com/u/15394363"><svg class="image-frame__badge image-frame__badge--color-grey-light image-frame__badge--side-alt image-frame__badge--offset-large" width="6" height="6" fill="currentColor"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/assets/sprite-a79b4259a2adfe698d06d72d1506eac60d8c320d77d68212ff72eaa70278bd07.svg#svg__icon--checkmark"></use></svg></div></a></li><li><a href="#"><div class="image-frame image-frame--border-radius-small image-frame--fixed-size-medium image-frame--has-badge util--pull-center"><img class="image-frame__image" src="//avatars.githubusercontent.com/u/29495828"><svg class="image-frame__badge image-frame__badge--color-grey-light image-frame__badge--side-alt image-frame__badge--offset-large" width="6" height="6" fill="currentColor"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/assets/sprite-a79b4259a2adfe698d06d72d1506eac60d8c320d77d68212ff72eaa70278bd07.svg#svg__icon--checkmark"></use></svg></div></a></li></ul></div><div class="button button--corners-square button--color-blue-purple-gradient util--padding-bl util--padding-tl util--padding-rl util--padding-ll"><svg width="21" height="21" fill="currentColor"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/assets/sprite-a79b4259a2adfe698d06d72d1506eac60d8c320d77d68212ff72eaa70278bd07.svg#svg__icon--friend-widget"></use></svg></div></div></div></section><div id="js--ad-unit"></div><section class="site-sidebar" id="js--region-sidebar"><div class="site-sidebar__actions"><div class="module" id="js--need-help"><ul class="list"><li><div class="button-badge-unit js--need-help-button" id="js--need-help-button" data-status="active"><div class="button-badge-unit__button"><svg class="button-badge-unit__badge"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/assets/sprite-a79b4259a2adfe698d06d72d1506eac60d8c320d77d68212ff72eaa70278bd07.svg#svg__icon--question-mark"></use></svg><span class="button-badge-unit__label">Ask a Question</span></div></div></li><li><div class="button-badge-unit js--question-count-button" data-status="active"><div class="button-badge-unit__button"><span class="js--question-count button-badge-unit__badge--count" data-count="11"></span><span class="button-badge-unit__label">Questions Need Help</span></div></div></li></ul></div></div><div class="site-sidebar__content" id="js--region-sidebar-content"><section><div class="row"><div class="status-alert js--complete-button" data-status=""><div class="status-alert__show-when-status-good"><div class="site-sidebar__collapsable"><div class="site-sidebar__collapsable__step--show-small"><div class="module module--flush-wings module--flush-inner"><div class="module__head"><div class="status-alert__bubble hoverable"></div><div class="heading heading--level-6 heading--font-size-smaller util--padding-tm util--text-align-c"><strong class="status-alert__title">Done</strong></div></div></div></div><div class="site-sidebar__collapsable__step--hide-small site-sidebar__collapsable__step--hide-small--with-reveal"><div class="module module--lilypad"><div class="module__body"><div class="media-block media-block--spacing-tight"><div class="media-block__media"><div class="status-alert__bubble"></div></div><div class="media-block__content media-block__content--fill"><div class="heading heading--level-5 heading--font-size-larger heading--weight-lighter"><strong class="status-alert__title status-alert__show-when-status-good">Finished </strong><span class="status-alert__subtitle">Reading</span></div></div></div></div></div></div></div></div></div></div><div class="row"><div class="status-alert" data-status=""><div class="status-alert__hide-when-status-good"><div class="js--child-container"><div class="row"><div id="js--signature-card"><div class="site-sidebar__collapsable"><div class="site-sidebar__collapsable__step--show-small"><div class="module module--flush-wings module--flush-inner"><div class="status-alert js--status"><div class="module__head"><div class="status-alert__bubble hoverable"></div><div class="heading heading--level-6 heading--font-size-smaller util--padding-tm util--text-align-c"><strong class="status-alert__title status-alert__hide-when-status">Read</strong><strong class="status-alert__title status-alert__show-when-status">Read</strong></div></div></div></div></div><div class="site-sidebar__collapsable__step--hide-small site-sidebar__collapsable__step--hide-small--with-reveal"><div class="module module--lilypad"><div class="status-alert js--status"><div class="module__head"><div class="media-block media-block--dual-media media-block--spacing-tight"><div class="media-block__media"><div class="status-alert__bubble"></div></div><div class="media-block__content"><div class="heading heading--level-5 heading--font-size-larger"><strong class="status-alert__title status-alert__hide-when-status">Finish </strong><strong class="status-alert__title status-alert__show-when-status">Finished </strong><span class="status-alert__subtitle">Reading</span></div></div><div class="media-block__media"><div class="js--feature-tour-done-button js--complete button button--height-xsmall button--width-xsmall status-alert__hide-when-status status-alert__button">I'm Done</div></div></div></div></div></div></div></div></div></div></div></div></div></div><div class="row"><div class="site-sidebar__collapsable"><div class="site-sidebar__collapsable__step--show-small"><div class="module module--flush-wings module--flush-inner"><div class="status-alert js--next-button-status" data-status=""><div class="module__head"><div class="js--feature-tour-done-button js--next-button status-alert__bubble--with-icon status-alert__bubble--with-icon--color-inverted status-alert__bubble--main hoverable"><svg class="status-alert__bubble__icon" fill="currentColor" width="24" height="24"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/assets/sprite-a79b4259a2adfe698d06d72d1506eac60d8c320d77d68212ff72eaa70278bd07.svg#svg__icon--arrow--right"></use></svg></div></div></div></div></div><div class="site-sidebar__collapsable__step--hide-small"><div class="module"><div class="js--feature-tour-done-button status-alert js--next-button-status" data-status=""><div class="status-alert__button--main button button--height-large button--corners-tight button--layout-block js--next-button">Next Lesson</div></div></div></div></div></div></section></div><div class="site-sidebar__footer" id="js--region-sidebar-footer"><div><div id="js--region-main-card"><div><div class="site-sidebar__collapsable"><div class="site-sidebar__collapsable__step--hide-small"><div class="module module--lilypad module--cap-grey-darker module--flat util--text-align-c"><div class="module__head"><div class="row"><a href="#"><svg class="module__head__icon util--pull-right util--margin-rs js--card-close" fill="white" width="12" height="12"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/assets/sprite-a79b4259a2adfe698d06d72d1506eac60d8c320d77d68212ff72eaa70278bd07.svg#svg__icon--x"></use></svg></a><a href="#"><svg class="module__head__icon util--pull-right util--margin-rs js--card-minimize" fill="white" width="12" height="12"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/assets/sprite-a79b4259a2adfe698d06d72d1506eac60d8c320d77d68212ff72eaa70278bd07.svg#svg__icon--dash"></use></svg></a></div><div class="row"><div class="heading heading--level-4 heading--text-uppercase heading--weight-lighter">Your Study Group</div><div class="heading heading--level-1 heading--weight-lighter">Tue, Nov 28</div><div class="heading heading--level-4 heading--text-uppercase heading--weight-lighter">10:00-11:00PM EST</div></div></div><div class="module__body"><div class="util--margin-tm util--margin-bm"><div class="bubble-bar bubble-bar--size-medium"><ul class="bubble-bar__list util--display-inline-block"><li><a class="bubble-bar__link bubble-bar__link--no-hover" href="/Shmuwol" target="_blank"><img class="bubble-bar__link__image" alt="Shmuwol" src="//avatars.githubusercontent.com/u/6590783"></a></li><li><a class="bubble-bar__link bubble-bar__link--no-hover" href="/RomanJohnson" target="_blank"><img class="bubble-bar__link__image" alt="RomanJohnson" src="//avatars.githubusercontent.com/u/21269224"></a></li><li><a class="bubble-bar__link bubble-bar__link--no-hover" href="/dsbondin" target="_blank"><img class="bubble-bar__link__image" alt="dsbondin" src="//avatars.githubusercontent.com/u/25798497"></a></li><li class="bubble-bar__more"><p class="util--padding-ls util--padding-rs">+6</p></li></ul></div><h6 class="heading heading--level-6 heading--font-size-smaller heading--weight-bolder heading--color-white heading--highlight-tight heading--highlight-color-blue util--display-inline-block">Flatiron Hosted</h6></div><div class="heading heading--level-2"><a href="/study-groups/lab-walkthrough-rails-blog-complex-nested-forms-1" target="_blank">Lab Walkthrough: ...</a></div><div class="util--margin-ts util--padding-bm"><div class="heading heading--level-5 heading--color-grey">(You RSVPed to this Group)</div></div><div class="util--margin-tm util--font-style-4"><div class="button button--height-small js--rsvp button--color-black">RSVP'D</div></div><div class="util--padding-tm util--padding-bl"><div class="tooltip tooltip--small"><div class="tooltip__trigger js--trigger-tooltip"><h6 class="heading heading--level-6 util--padding-tm util--text-align-c"><a>Share This</a></h6></div><div class="tooltip__content js--content-tooltip"></div></div></div></div></div></div></div></div></div><div id="js--region-display-button"><div><div class="site-sidebar__footer__inner site-sidebar__footer__inner--white" id="js--widget-button"><div class="site-sidebar__collapsable"><div class="site-sidebar__collapsable__step--show-small"><div class="table-grid"><div class="table-grid__cell util--text-align-c"><div class="button button--circle button--color-green">6</div></div></div></div><div class="site-sidebar__collapsable__step--hide-small"><div class="media-block media-block--dual-media util--pull-center util--padding-rxl util--padding-lxl"><div class="media-block__media util--padding-lm"><div class="button button--circle button--color-green">6</div></div><div class="media-block__content util--text-align-c"><div class="heading heading--level-4 heading--text-uppercase heading--color-green">Study Groups</div></div><div class="media-block__media"><div class="util--padding-rm"><svg class="inline-svg--fixed-size-small inline-svg--fill-green"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/assets/sprite-a79b4259a2adfe698d06d72d1506eac60d8c320d77d68212ff72eaa70278bd07.svg#svg__icon--double-chevron-up"></use></svg></div></div></div></div></div></div></div></div><div id="js--region-hidden-cards"></div></div></div></section><section class="panel-master-detail" id="js--region-panel-master-detail" data-state="closed"><div class="site-panel-master" id="js--region-panel-master"></div><div class="site-panel-master-accessory" id="js--region-panel-master-accessory"><div><div class="module module--flush"><ul class="list list--spacing-none list--separators-faint list--indented-small js--question-chat-lobby question-chat-lobby"></ul></div></div></div><div class="site-panel-detail util--anchor" id="js--region-panel-detail"></div></section><div class="site-overlay" id="js--site-overlay"><div class="site-overlay__inner"><div class="site-overlay__content" id="js--site-overlay-content"><div id="js--region-modal"></div></div></div></div><div id="js--suggest-a-pair"></div><iframe id="intercom-frame" style="display: none;"></iframe><div id="intercom-container" style="position: fixed; width: 0px; height: 0px; bottom: 0px; right: 0px; z-index: 2147483647;"><div data-reactroot="" class="intercom-app"><span></span><span></span><!-- react-empty: 4 --><span></span><!-- react-empty: 6 --></div></div><iframe name="_hjRemoteVarsFrame" title="_hjRemoteVarsFrame" id="_hjRemoteVarsFrame" src="https://vars.hotjar.com/rcj-99d43ead6bdf30da8ed5ffcb4f17100c.html" style="display: none !important; width: 1px !important; height: 1px !important; opacity: 0 !important; pointer-events: none !important;"></iframe><div id="ads"></div><div style="position: absolute; top: 0px; left: 0px; width: 100%;"><div><div class="rc-tooltip rc-tooltip--island rc-tooltip-placement-right  rc-tooltip-hidden" style="left: 782.25px; top: 545.566px;"><div class="rc-tooltip-content"><div class="rc-tooltip-arrow"></div><div class="rc-tooltip-inner"><div class="module module--flush module--flush-inner module--cap-grey-darker module--corners-sharp module--cap-foot-grey-faintest"><div class="module__head"><div class="media-block media-block--side-alt util--margin-lm js--hovercard"><div class="media-block__content"><div class="module"><div class="module__body"><ul><li class="heading heading--level-2">Katherine Gruenberg</li><li class="util--font-style-2"><a href="/kathy8" target="_blank">@kathy8</a></li></ul></div></div></div><div class="media-block__media"><div class="image-frame image-frame--fixed-size-xxxlarge"><img class="image-frame__image" alt="kathy8" src="//avatars.githubusercontent.com/u/15394363"></div></div></div></div><div><div class="module__foot util--padding-tm util--padding-bm util--padding-lxl util--padding-rxl"><div class="media-block util--vertical-align-m hoverable"><div class="media-block__media"><a href="/kathy8" target="_blank"><div class="button button--icon-only button--icon-only--small button--color-blue"><svg class="button__icon button__icon--color-white" width="14" height="14" fill="currentColor"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/assets/sprite-a79b4259a2adfe698d06d72d1506eac60d8c320d77d68212ff72eaa70278bd07.svg#svg__logo"></use></svg></div></a></div><div class="media-block__content"><div class="util--font-style-2"><a href="/kathy8" class="link--color-inherit" target="_blank">View Profile</a></div></div></div></div><div class="module__foot util--padding-tm util--padding-bm util--padding-lxl util--padding-rxl"><div class="media-block util--vertical-align-m unselectable"><div class="media-block__media"><div class="button button--icon-only button--icon-only--small button--color-blue unselectable"><svg class="button__icon button__icon--color-white" width="14" height="14" fill="currentColor"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/assets/sprite-a79b4259a2adfe698d06d72d1506eac60d8c320d77d68212ff72eaa70278bd07.svg#svg__icon--checkmark"></use></svg></div></div><div class="media-block__content"><div class="util--font-style-2 heading--color-black">Friends</div></div></div></div><div class="module__foot util--padding-tm util--padding-bm util--padding-lxl util--padding-rxl js--send-dm-footer"><div class="media-block util--vertical-align-m hoverable"><div class="media-block__media"><div class="button button--icon-only button--icon-only--small button--color-blue hoverable"><svg class="button__icon button__icon--color-white" width="14" height="14" fill="currentColor"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/assets/sprite-a79b4259a2adfe698d06d72d1506eac60d8c320d77d68212ff72eaa70278bd07.svg#svg__icon--dm"></use></svg></div></div><div class="media-block__content"><div class="util--font-style-2">Start a conversation</div></div></div></div></div></div></div></div></div></div></div></body>